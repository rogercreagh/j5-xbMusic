<?xml version="1.0" encoding="UTF-8"?>
<extension type="module" client="site" method="upgrade">
    <name>xbImages Carousel</name>
    <version>0.0.3.0</version>
	<creationDate>18th February 2026</creationDate>
	<author>RogerCO</author>
	<authorEmail>roger@crosborne.co.uk</authorEmail>
	<authorUrl>www.crosborne.uk</authorUrl>
	<copyright>Copyright (C) Roger Creagh-Osborne, 2025, All rights reserved.</copyright>
	<license>GNU/GPL Version 3</license>
	<description>Creates a single image carousel with configurable delay and images source</description>

	<namespace path="src/">Crosborne\Module\Xbimages</namespace>

	<scriptfile>script.xbimages.php</scriptfile>	
    <files>
        <folder module="mod_xbimages">services</folder>
        <folder>src</folder>
        <folder>tmpl</folder>
    </files>
    <media destination="mod_xbimages" folder="media">
        <filename>joomla.asset.json</filename>
        <folder>js</folder>
        <folder>images</folder>
    </media>
    <config>
		<inlinehelp button="show"/>
        <fields name="params">
            <fieldset name="basic">
            	<field name="img_delay" type="number"
            		label="Delay (secs)"
            		description="Second to display image before changing to next"
            		min="2" max="60" step="1"
            		hint="secs"
            		size="4"
            		default="7"
            	/> 
                <field
                    name="img_source" type="radio"
                    label="Image Source"
                    description="Folder will select all images in the selected folder and subfolders. xbMusic will select all images from xbMusic Albums with optional filtering by Album tags"
                    default="0"
                    >
						<option value="0">Folder</option>
						<option value="1">xbMusic</option>	
                </field>
                <field name="img_folder" type="folderlist"
			        label="Select a folder"
			        description="All sub-folders of the selected folder will be scanned. Files must match one of the extensions specified below"
			        directory="images"
			        recursive="true"
			        hide_none="true" hide_default="true"
			        default=""
			        showon="img_source:0"
				/>
				<field name="img_exts" type="text"
					label="File types to include"
					description="specify the acceptable extensions in lower case separated by commas without the dot Case will be ignore so 'jpg' covers 'jpg' and 'JPG'"
					default="jpg,jpeg,png"
					showon="img_source:0"
				/>
				<field name="albumsnote" type="note"
					label="xbMusic component must be installed for this to work."
					description="Images will be those used by Albums in the xbMusic database. If xbMusic is not installed no images will be found. You can optionally filter the albums by tag(s). If you select multiple tags then albums matching any of the selected tags will be used."
					showon="img_source:1"
				/>
				<field name="albuminfo" type="radio"
					label="Show Title &amp; Artist"
					description="Optionally display album title and/or artist below the image"
					showon="img_source:1"
				>
					<option value="0">None</option>
					<option value="1">Title</option>
					<option value="2">Artist</option>
					<option value="3">Both</option>
				</field>
				<field name="albumtags" type="tag"
					label="Tags"
					description="Filter albums by selected tags"
					mode="nested"
					multiple="true"
					showon="img_source:1"
				/>
			
            </fieldset>
        </fields>
    </config>
</extension>